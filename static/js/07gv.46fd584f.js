(window.webpackJsonp=window.webpackJsonp||[]).push([["07gv"],{"07gv":function(e,t,s){"use strict";s.r(t);var a=s("14Xm"),r=s.n(a),i=s("D3Ub"),n=s.n(i),o=(s("I+RW"),s("UPFR"),s("Wj4w")),l={data:function(){return{root:"",loading:!1,messages:[],init_message:{data:{title:""}},latest_message:{data:{title:""}},searchForm:{query:""}}},mounted:function(){this.loadData(this.$route.params.root)},methods:{loadData:function(){var e=n()(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.loading=!0,!t){e.next=7;break}return this.root=t,e.next=5,Object(o.e)(this.root,"restriced","TEST",this.appendToMessages,this.fetchComplete);case 5:e.next=9;break;case 7:console.log("no root defined, show search and latest views."),this.loading=!1;case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),getType:function(e){return"blueprint"==e?"":"product"==e?"success":"stock"==e?"info":"order"==e?"warning":void 0},appendToMessages:function(e){this.messages.push(e)},fetchComplete:function(){this.loading=!1,this.init_message=this.messages[0],this.latest_message=this.messages[this.messages.length-1]},onSearch:function(){this.loadData(this.searchForm.query)}}},c=s("KHd+"),d=Object(c.a)(l,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[s("h1",[e._v("Viewer")]),e._v(" "),e.root?s("div",[s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("el-tag",{attrs:{type:e.getType(e.init_message.type)}},[e._v(e._s(e.init_message.type))]),e._v("\n\n                "+e._s(e.init_message.data.title)+"\n            ")],1)]),e._v(" "),s("h3",[e._v("Latest message")]),e._v(" "),s("pre",[e._v(e._s(e.latest_message))]),e._v(" "),s("h3",[e._v("Init message")]),e._v(" "),s("pre",[e._v(e._s(e.init_message))])],1):e._e(),e._v(" "),e.root?e._e():s("div",[s("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm}},[s("el-form-item",{attrs:{label:"Search for..."}},[s("el-input",{attrs:{placeholder:"Input root for blueprint, stock, product or order."},model:{value:e.searchForm.query,callback:function(t){e.$set(e.searchForm,"query",t)},expression:"searchForm.query"}})],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.onSearch}},[e._v("Search")])],1)],1)],1)])},[],!1,null,null,null);d.options.__file="index.vue";t.default=d.exports}}]);