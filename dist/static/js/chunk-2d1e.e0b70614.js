(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2d1e"],{"8XPK":function(t,e,o){},"EL+q":function(t,e,o){"use strict";var s=o("YEIV"),r=o.n(s),a=o("JpmB"),n=o("pArE"),i=o("Tith"),c=o("EgDl"),l={name:"LocationChooseMap",components:{LMap:a.a,LTileLayer:n.a,LMarker:i.a},props:{iac:{type:String,require:!0}},data:function(){var t;return t={showMap:!0,url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png",zoom:13,center:{lat:52.529562,lng:13.413047},bounds:null},r()(t,"showMap",!1),r()(t,"new_iac",this.iac||"NPHTQORL9XK"),t},methods:{centerUpdated:function(t){this.center=t,this.new_iac=c.encode(this.center.lat,this.center.lat,c.CodePrecision.EXTRA),this.$emit("update",this.new_iac)}}},p=o("KHd+"),u=Object(p.a)(l,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"location-choose-map"},[o("el-button",{attrs:{type:""},on:{click:function(e){t.showMap=!t.showMap}}},[t._v(t._s(t.showMap?"Remove location":"Add new location"))]),t._v(" "),t.showMap?o("l-map",{staticStyle:{height:"400px",width:"400px"},attrs:{zoom:t.zoom,center:t.center},on:{"update:center":t.centerUpdated}},[o("l-tile-layer",{attrs:{url:t.url}}),t._v(" "),o("l-marker",{attrs:{"lat-lng":t.center}})],1):t._e()],1)},[],!1,null,null,null);u.options.__file="index.vue";e.a=u.exports},SqnT:function(t,e,o){"use strict";o.r(e);var s=o("14Xm"),r=o.n(s),a=o("gDS+"),n=o.n(a),i=o("D3Ub"),c=o.n(i),l=o("Wj4w"),p={components:{LocationChooseMap:o("EL+q").a},data:function(){return{shop:{},next_id:0,products:[],loading:!1,published:!1,form:{title:"",desc:""}}},computed:{descriptionLength:function(){return this.form.desc.length},calculateIac:function(){}},methods:{loadProducts:function(){var t=localStorage.getItem("products")||"[]";this.products=JSON.parse(t),this.products.length?this.next_id=this.products.length+1:this.next_id=1},createProduct:function(){var t=c()(r.a.mark(function t(e){var o,s,a,i,c;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,o=Object(l.g)(),t.next=4,Object(l.c)(e,o);case 4:return(s=t.sent).seed=o,this.products.push(s),a=n()(this.products),localStorage.setItem("products",a),this.loadProducts(),i={product:s.root},t.next=13,Object(l.a)(i,"add_blueprint",this.shop.catalog_seed,this.shop.catalog_next_root,this.shop.catalog_start);case 13:c=t.sent,this.shop.catalog_start=c.start,this.shop.catalog_next_root=c.next_root,a=n()(this.shop),localStorage.setItem("shop",a),this.loading=!1,this.$notify({title:"Sucecss",message:"Product "+this.form.title+" created!",type:"success",duration:2e3}),this.form={title:"",desc:""},this.$router.push("/products");case 22:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),onSubmit:function(){this.form.id=this.next_id,this.iac&&this.showMap&&(this.form.iac=this.iac),this.createProduct(this.form)},onCancel:function(){this.$router.push("/products")},updateIac:function(t){this.form.iac=t}},mounted:function(){var t=localStorage.getItem("shop")||"{}";this.shop=JSON.parse(t),this.published="{}"!==n()(this.shop),console.log("loaded shop",this.shop),this.loadProducts()}},u=(o("pw+E"),o("KHd+")),h=Object(u.a)(p,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"app-container"},[t.published?t._e():o("div",[o("router-link",{attrs:{to:"/shop/shop"}},[t._v("Create your shop first!")])],1),t._v(" "),t.published?o("el-form",{ref:"form",attrs:{model:t.form,"label-width":"120px"}},[o("el-form-item",{attrs:{label:"Title"}},[o("el-input",{attrs:{placeholder:"Product title"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"Description:"}},[o("el-input",{staticClass:"product-textarea",attrs:{rows:5,type:"textarea",autosize:"",placeholder:"Product description"},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}}),t._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:t.descriptionLength,expression:"descriptionLength"}],staticClass:"word-counter"},[t._v(t._s(t.descriptionLength)+" Chars (1000 Max)")])],1),t._v(" "),o("el-form-item",{attrs:{label:"Price"}},[o("el-col",{attrs:{span:19}},[o("el-input",{attrs:{type:"number",step:"any",placeholder:"1000"},model:{value:t.form.price,callback:function(e){t.$set(t.form,"price",e)},expression:"form.price"}})],1),t._v(" "),o("el-col",{attrs:{span:5}},[o("el-select",{attrs:{placeholder:"choose currency"},model:{value:t.form.currency,callback:function(e){t.$set(t.form,"currency",e)},expression:"form.currency"}},[o("el-option",{attrs:{label:"Euro",value:"euro"}}),t._v(" "),o("el-option",{attrs:{label:"IOTA",value:"iota"}})],1)],1)],1),t._v(" "),o("el-form-item",{attrs:{label:"Location"}},[o("LocationChooseMap",{on:{update:t.updateIac}})],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("Create")]),t._v(" "),o("el-button",{on:{click:t.onCancel}},[t._v("Cancel")])],1),t._v(" "),o("el-row")],1):t._e()],1)},[],!1,null,"89f51866",null);h.options.__file="index.vue";e.default=h.exports},"pw+E":function(t,e,o){"use strict";var s=o("8XPK");o.n(s).a}}]);