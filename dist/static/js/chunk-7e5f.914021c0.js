(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7e5f"],{"446j":function(t,e,n){"use strict";var i=n("QgtN");n.n(i).a},"5MR3":function(t,e,n){},"EL+q":function(t,e,n){"use strict";var i=n("YEIV"),r=n.n(i),o=n("JpmB"),a=n("pArE"),s=n("Tith"),c=n("EgDl"),l={name:"LocationChooseMap",components:{LMap:o.a,LTileLayer:a.a,LMarker:s.a},props:{iac:{type:String,require:!0}},data:function(){var t;return t={showMap:!0,url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png",zoom:13,center:{lat:52.529562,lng:13.413047},bounds:null},r()(t,"showMap",!1),r()(t,"new_iac",this.iac||"NPHTQORL9XK"),t},methods:{centerUpdated:function(t){this.center=t,this.new_iac=c.encode(this.center.lat,this.center.lat,c.CodePrecision.EXTRA),this.$emit("update",this.new_iac)}}},d=n("KHd+"),u=Object(d.a)(l,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"location-choose-map"},[n("el-button",{attrs:{type:""},on:{click:function(e){t.showMap=!t.showMap}}},[t._v(t._s(t.showMap?"Remove location":"Add new location"))]),t._v(" "),t.showMap?n("l-map",{staticStyle:{height:"400px",width:"400px"},attrs:{zoom:t.zoom,center:t.center},on:{"update:center":t.centerUpdated}},[n("l-tile-layer",{attrs:{url:t.url}}),t._v(" "),n("l-marker",{attrs:{"lat-lng":t.center}})],1):t._e()],1)},[],!1,null,null,null);u.options.__file="index.vue";e.a=u.exports},O8HV:function(t,e,n){"use strict";n.r(e);var i=n("14Xm"),r=n.n(i),o=n("gDS+"),a=n.n(o),s=n("D3Ub"),c=n.n(s),l=n("uARZ"),d={computed:{cart:function(){return this.$store.state.cart.items}},methods:{removeFromCart:function(t){this.$store.dispatch("RemoveFromCart",t)},addToCart:function(t){this.$store.dispatch("AddToCart",t)}}},u=n("KHd+"),h=Object(u.a)(d,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.cart,stripe:""}},[n("el-table-column",{attrs:{prop:"details.name",label:"Product Title"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n       "+t._s(e.row.item.data.title)+"\n   ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"Price"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n   "+t._s(e.row.item.data.price)+" "+t._s(e.row.item.data.currency)+"\n  ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"quantity",label:"Quantity"}}),t._v(" "),n("el-table-column",{attrs:{label:""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"success",icon:"el-icon-plus",size:"mini"},on:{click:function(n){t.addToCart(e.row.item)}}}),t._v(" "),n("el-button",{attrs:{type:"danger",icon:"el-icon-minus",size:"mini"},on:{click:function(n){t.removeFromCart(e.row.item.data.id)}}})]}}])})],1)},[],!1,null,null,null);h.options.__file="ShoppingCart.vue";var p=h.exports,m={data:function(){return{products:[]}},methods:{addToCart:function(t){this.$store.dispatch("AddToCart",t)}},created:function(){var t=localStorage.getItem("products")||"[]";this.products=JSON.parse(t)}},f=(n("446j"),Object(u.a)(m,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",t._l(t.products,function(e,i){return n("el-col",{key:i,attrs:{span:4}},[n("el-card",[n("img",{staticClass:"image",attrs:{src:"http://via.placeholder.com/320x180"}}),t._v(" "),n("p",[t._v(t._s(e.data.title))]),t._v(" "),n("p",[t._v(t._s(e.data.price)+" "+t._s(e.data.currency))]),t._v(" "),n("div",{staticClass:"bottom clearfix"},[n("el-button",{attrs:{type:"info"},on:{click:function(n){t.addToCart(e)}}},[t._v("Add to cart")])],1)])],1)}))},[],!1,null,null,null));f.options.__file="ProductList.vue";var v=f.exports,_=n("t+wR"),g=n("fcXd"),w=n("EL+q"),y=n("Wj4w"),x=Object(_.composeAPI)({provider:g.a}),b={name:"OrderForm",components:{Sticky:l.a,ShoppingCart:p,ProductList:v,LocationChooseMap:w.a},props:{isNew:{type:Boolean,default:!1}},data:function(){return{loading:!1,products:[],form:{name:"",cart:this.$store.state.cart.items,id:0}}},created:function(){var t=localStorage.getItem("products")||"[]";this.products=JSON.parse(t),this.calcNextId()},computed:{cart:function(){return this.$store.state.cart.items}},methods:{onSubmit:function(){var t=c()(r.a.mark(function t(){var e,n,i,o,s,c=this;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,e=Object(y.g)(),t.next=4,x.getNewAddress(e,{index:0}).then(function(t){c.form.paying_address=t}).catch(function(t){});case 4:return t.next=6,x.getNewAddress(e,{index:1}).then(function(t){c.form.package_address=t}).catch(function(t){});case 6:return t.next=8,x.getNewAddress(e,{index:2}).then(function(t){c.form.pickup_address=t}).catch(function(t){});case 8:return t.next=10,x.getNewAddress(e,{index:3}).then(function(t){c.form.delivered_address=t}).catch(function(t){});case 10:return t.next=12,Object(y.b)(this.form,"order");case 12:n=t.sent,i=localStorage.getItem("orders")||"[]",(o=JSON.parse(i)).push(n),s=a()(o),localStorage.setItem("orders",s),this.loading=!1,this.$router.push("/orders");case 20:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),onCancel:function(){this.$router.push("/orders")},calcNextId:function(){var t=localStorage.getItem("orders")||"[]",e=JSON.parse(t);e.length?this.form.id=e.length+1:this.form.id=1},updateIac:function(t){this.form.shipping_location=t}}},S=(n("PoDT"),Object(u.a)(b,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"createOrder-container"},[n("h2",[t._v("New Order")]),t._v(" "),n("el-form",{ref:"form",staticClass:"form-container",attrs:{model:t.form}},[n("sticky",{attrs:{"class-name":"sub-navbar"}},[n("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"success"},on:{click:t.onSubmit}},[t._v("\n        Create\n      ")]),t._v(" "),n("el-button",{attrs:{type:"warning"},on:{click:t.onCancel}},[t._v("Cancel")])],1),t._v(" "),n("div",{staticClass:"createOrder-main-container"},[n("el-row",[n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:"Name:"}},[n("el-input",{staticClass:"order-name",attrs:{rows:1,type:"text",autosize:"",placeholder:"Your name"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1)],1)],1)],1),t._v(" "),n("h2",[t._v("Shopping card")]),t._v(" "),n("shopping-cart"),t._v(" "),n("h2",[t._v("Product List")]),t._v(" "),n("product-list"),t._v(" "),n("h2",[t._v("Shipping Address")]),t._v(" "),n("LocationChooseMap",{on:{update:t.updateIac}})],1)},[],!1,null,null,null));S.options.__file="OrderForm.vue";var k={name:"NewOrder",components:{OrderForm:S.exports},data:function(){return{}}},C=Object(u.a)(k,function(){var t=this.$createElement;return(this._self._c||t)("order-form",{attrs:{"is-new":!0}})},[],!1,null,null,null);C.options.__file="index.vue";e.default=C.exports},PoDT:function(t,e,n){"use strict";var i=n("5MR3");n.n(i).a},QgtN:function(t,e,n){},uARZ:function(t,e,n){"use strict";var i={name:"Sticky",props:{stickyTop:{type:Number,default:0},zIndex:{type:Number,default:1},className:{type:String,default:""}},data:function(){return{active:!1,position:"",width:void 0,height:void 0,isSticky:!1}},mounted:function(){this.height=this.$el.getBoundingClientRect().height,window.addEventListener("scroll",this.handleScroll),window.addEventListener("resize",this.handleReize)},activated:function(){this.handleScroll()},destroyed:function(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.handleReize)},methods:{sticky:function(){this.active||(this.position="fixed",this.active=!0,this.width=this.width+"px",this.isSticky=!0)},handleReset:function(){this.active&&this.reset()},reset:function(){this.position="",this.width="auto",this.active=!1,this.isSticky=!1},handleScroll:function(){var t=this.$el.getBoundingClientRect().width;this.width=t||"auto",this.$el.getBoundingClientRect().top<this.stickyTop?this.sticky():this.handleReset()},handleReize:function(){this.isSticky&&(this.width=this.$el.getBoundingClientRect().width+"px")}}},r=n("KHd+"),o=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:{height:t.height+"px",zIndex:t.zIndex}},[n("div",{class:t.className,style:{top:t.isSticky?t.stickyTop+"px":"",zIndex:t.zIndex,position:t.position,width:t.width,height:t.height+"px"}},[t._t("default",[n("div",[t._v("sticky")])])],2)])},[],!1,null,null,null);o.options.__file="index.vue";e.a=o.exports}}]);